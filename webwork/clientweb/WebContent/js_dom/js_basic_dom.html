<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=EUC-KR" />
<title>Insert title here</title>
<script type="text/javascript">
	//윈도우가 로딩될 때 익명의 함수를 실행해라
	window.onload = function() {
		//		alert("안녕~~~~");
		//		domTest;
		//		window.document.myformID.btndomtest = domTest();
		document.getElementById("btndomtest").onclick = domTest;
		document.getElementById("btnnodetest").onclick = domTest2;
	}
	function domTest() {
		//alert("domTest.....");

		nodelist = document.getElementsByTagName("div");
		alert(nodelist);
		alert("div노드의 갯수=> " + nodelist.length);
		for (i = 0; i < nodelist.length; i++) {
			alert("id속성=>" + nodelist[i].getAttribute("id"));
			if (nodelist[i].getAttribute("id") == "domtestbtn") {
				alert("양식태그");
				alert(nodelist[i].firstChild.nodeName + ", "
						+ nodelist[i].firstChild.nodeValue);
			}
		}
	}
	function domTest2() {
		/* nodeidlist = document.getElementsByTagName("form");
		for (i = 0; i < nodeidlist.length; i++) {
			if (nodeidlist[i].getAttribute("id") == "myformId") {
				alert("myformId의 자식노드의 개수는 : "
						+ nodeidlist[i].getAttribute("id").length);
				for (j = 0; j < nodeidlist[i].getAttribute("id").length; j++) {
					if(nodeidlist[i].getAttribute("id")[j]=="imginsert")
						alert(nodeidlist[i].getAttribute("id")[j].getAttribute("id").nodeName);
				}
			}
		} */
		myform = document.getElementById("myformId");
		nodelist = myform.childNodes;
		alert("자식노드의 개수=>" + nodelist.length);
		for (i = 0; i < nodelist.length; i++) {
			if (nodelist[i].nodeName != "\#text") {
				if (nodelist[i].getAttribute("id") == "imginsert") {
					alert("노드의 이름=>" + nodelist[i].nodeName);
				}
			}
		}
	}
	
</script>
</head>
<body>
	<div id="main">
		<h1 id="myhead">안녕하세요 DOM에 관한 작업을 수행 중입니다.</h1>
		<div id="mycontent1">
			<img src="../images/m_garden07.jpg" name="myimg" id="myimagId" alt="이미지파일" />
			<h3>이미지파일</h3>
		</div>
		<div id="mycontent2">DOM의 구조를 볼까~~</div>
		<div id="domtestbtn">
			<form id="myformId" name="myform">
				<input type="button" value="dom구조확인하기" name="btn" id="btndomtest" />
				<input type="button" value="노드탐색연습" name="btn" id="btnnodetest" />
				<input type="button" value="이미지노드삽입하기" name="btn" id="imginsert" />
				<input type="button" value="특정노드전에 삽입하기" name="btn" id="btninsertbefore" />
				<input type="button" value="특정노드삭제하기" name="btn" id="btndelete" />
			</form>
		</div>
	</div>
</body>
</html>
